{"version":3,"sources":["../pdp-function.js"],"names":["$","click","e","preventDefault","dept","attr","toLowerCase","cat","indexOf","setCats","url","params","encodeURI","thisUrl","window","location","href","get","data","sizeChart","find","html","width","overlay","overlayContent","prepend","append","css","background","padding","hover","theUrl","newUrl","replace","remove"],"mappings":";;AAAA;AACAA,CAAC,CAAC,aAAD,CAAD,CAAiBC,KAAjB,CAAuB,UAASC,CAAT,EAAY;AACjCA,EAAAA,CAAC,CAACC,cAAF,GADiC,CAGjC;AACA;AACA;AAEA;;AACA,MAAIC,IAAI,GAAGJ,CAAC,CAAC,UAAD,CAAD,CAAcK,IAAd,CAAmB,iBAAnB,EAAsCC,WAAtC,EAAX;AACA,MAAIC,GAAG,GAAGP,CAAC,CAAC,UAAD,CAAD,CAAcK,IAAd,CAAmB,eAAnB,EAAoCC,WAApC,EAAV,CATiC,CAWjC;;AACA,MAAIF,IAAI,IAAI,UAAR,IAAsBA,IAAI,IAAI,EAAlC,EAAsC;AACpCA,IAAAA,IAAI,GAAG,MAAP;AACD;;AAED,MAAIA,IAAI,IAAI,aAAZ,EAA2B;AACzBA,IAAAA,IAAI,GAAG,WAAP;AACD;;AAED,MAAIA,IAAI,IAAI,YAAZ,EAA0B;AACxBA,IAAAA,IAAI,GAAG,UAAP;AACD;;AAED,MAAIA,IAAI,CAACI,OAAL,CAAa,SAAb,MAA4B,CAAC,CAA7B,IAAkCJ,IAAI,CAACI,OAAL,CAAa,SAAb,MAA4B,CAAC,CAA/D,IAAoEJ,IAAI,CAACI,OAAL,CAAa,QAAb,MAA2B,CAAC,CAApG,EAAuG;AACrGJ,IAAAA,IAAI,GAAG,SAAP;AACAG,IAAAA,GAAG,GAAG,gBAAN;AACD;;AAED,MAAIE,OAAO,GAAG,SAAVA,OAAU,GAAW;AACvB;AAEA,QAAIF,GAAG,IAAI,SAAP,IAAoBA,GAAG,IAAI,MAA/B,EAAuC;AACrC,UAAIH,IAAI,IAAI,MAAR,IAAkBA,IAAI,IAAI,WAA9B,EAA2C;AACzCG,QAAAA,GAAG,GAAG,MAAN;AACD;;AACD,UAAIH,IAAI,IAAI,KAAR,IAAiBA,IAAI,IAAI,UAA7B,EAAyC;AACvCG,QAAAA,GAAG,GAAG,eAAN;AACD;AACF,KAPD,MAOO,IAAIA,GAAG,IAAI,SAAX,EAAsB;AAC3BA,MAAAA,GAAG,GAAG,SAAN;AACD,KAFM,MAEA,IAAIA,GAAG,IAAI,UAAP,IAAqBA,GAAG,IAAI,OAA5B,IAAuCA,GAAG,IAAI,QAA9C,IAA0DA,GAAG,IAAI,SAArE,EAAgF;AACrFA,MAAAA,GAAG,GAAG,SAAN;AACD,KAFM,MAEA,IAAIA,GAAG,IAAI,UAAX,EAAuB;AAC5BA,MAAAA,GAAG,GAAG,MAAN;AACD,KAFM,MAEA,IAAIA,GAAG,IAAI,WAAP,IAAsBA,GAAG,IAAI,UAAjC,EAA6C;AAClDA,MAAAA,GAAG,GAAG,qBAAN;AACD,KAFM,MAEA,IAAIA,GAAG,IAAI,WAAX,EAAwB;AAC7BA,MAAAA,GAAG,GAAG,SAAN;AACD,KAFM,MAEA,IAAIA,GAAG,IAAI,aAAP,IAAwBA,GAAG,IAAI,OAAnC,EAA4C;AACjDA,MAAAA,GAAG,GAAG,qBAAN;AACD,KAFM,MAEA;AACL,UAAIH,IAAI,IAAI,MAAZ,EAAoB;AAClB;AACAG,QAAAA,GAAG,GAAG,SAAN;AACD,OAHD,MAGO,IAAIH,IAAI,IAAI,KAAZ,EAAmB;AACxB;AACAG,QAAAA,GAAG,GAAG,eAAN;AACD,OAHM,MAGA,IAAIH,IAAI,IAAI,WAAR,IAAuBA,IAAI,IAAI,UAAnC,EAA+C;AACpD;AACAG,QAAAA,GAAG,GAAG,SAAN;AACD;AACF,KAjCsB,CAmCvB;;AACD,GApCD,CA7BiC,CAmEjC;;;AACAE,EAAAA,OAAO,GApE0B,CAqEjC;AAEA;AACA;AACA;AAEA;;AACA,MAAIC,GAAG,GAAG,kDAAV,CA5EiC,CA8EjC;;AACA,MAAIC,MAAM,GAAGC,SAAS,CAAC,kBAAkBR,IAAlB,GAAyB,eAAzB,GAA2CG,GAA5C,CAAtB;AACA,MAAIM,OAAO,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA9B,CAhFiC,CAiFjC;;AACA,MAAIH,OAAO,CAACL,OAAR,CAAgB,GAAhB,MAAyB,CAAC,CAA9B,EAAiC;AAC/BM,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBH,OAAO,GAAG,GAAV,GAAgBF,MAAvC;AACD,GAFD,MAEO;AACLG,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBH,OAAO,GAAG,GAAV,GAAgBF,MAAvC;AACD,GAtFgC,CAyFjC;;;AACAX,EAAAA,CAAC,CAACiB,GAAF,CAAMP,GAAN,EAAW,UAASQ,IAAT,EAAe;AAExB;AACA,QAAIC,SAAS,GAAGnB,CAAC,CAACkB,IAAD,CAAD,CAAQE,IAAR,CAAa,qBAAb,EAAoCC,IAApC,EAAhB,CAHwB,CAIxB;AAEA;;AACA,QAAIrB,CAAC,CAACc,MAAD,CAAD,CAAUQ,KAAV,KAAoB,GAAxB,EAA6B;AAC3B;AACA,UAAIC,OAAO,GAAG,0HAAd,CAF2B,CAI3B;;AACA,UAAIC,cAAc,GAAGxB,CAAC,CAAC,sLAAD,CAAtB,CAL2B,CAO3B;;AACAA,MAAAA,CAAC,CAAC,MAAD,CAAD,CAAUyB,OAAV,CAAkBF,OAAlB,EAR2B,CAU3B;;AACAvB,MAAAA,CAAC,CAAC,MAAD,CAAD,CAAUyB,OAAV,CAAkBD,cAAlB,EAX2B,CAa3B;;AACAxB,MAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB0B,MAAtB,CAA6BP,SAA7B;AACD,KAfD,CAiBA;AAjBA,SAkBK,IAAInB,CAAC,CAACc,MAAD,CAAD,CAAUQ,KAAV,KAAoB,GAAxB,EAA6B;AAEhC;AACA,YAAIE,cAAc,GAAGxB,CAAC,CAAC,mLAAD,CAAtB,CAHgC,CAKhC;;AACAA,QAAAA,CAAC,CAAC,MAAD,CAAD,CAAUyB,OAAV,CAAkBD,cAAlB,EANgC,CAQhC;;AACAxB,QAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB0B,MAAtB,CAA6BP,SAA7B;AACD,OAnCuB,CAqCxB;AACA;AAEA;;;AACAnB,IAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8B2B,GAA9B,CAAkC;AAChCC,MAAAA,UAAU,EAAE,sIADoB;AAEhCC,MAAAA,OAAO,EAAE;AAFuB,KAAlC,EAzCwB,CA8CxB;;AACA7B,IAAAA,CAAC,CAAC,oCAAD,CAAD,CAAwC8B,KAAxC,CAA8C,YAAW;AACvD9B,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ2B,GAAR,CAAY,QAAZ,EAAsB,SAAtB;AACD,KAFD,EAEG,YAAW;AACZ3B,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ2B,GAAR,CAAY,QAAZ,EAAsB,MAAtB;AACD,KAJD,EA/CwB,CAqDxB;;AACA3B,IAAAA,CAAC,CAAC,oCAAD,CAAD,CAAwCC,KAAxC,CAA8C,YAAW;AACvD;AACA,UAAI8B,MAAM,GAAGjB,MAAM,CAACC,QAAP,CAAgBC,IAA7B;AACA,UAAIgB,MAAJ;;AACA,UAAID,MAAM,CAACvB,OAAP,CAAe,MAAMG,MAArB,MAAiC,CAAC,CAAtC,EAAyC;AACvCqB,QAAAA,MAAM,GAAGD,MAAM,CAACE,OAAP,CAAe,MAAMtB,MAArB,EAA6B,EAA7B,CAAT;AACD,OAFD,MAEO;AACLqB,QAAAA,MAAM,GAAGD,MAAM,CAACE,OAAP,CAAe,MAAMtB,MAArB,EAA6B,EAA7B,CAAT;AACD;;AACDG,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBgB,MAAvB,CATuD,CAWvD;;AACAhC,MAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCkC,MAAhC;AACD,KAbD;AAcD,GApED;AAuED,CAjKD","sourcesContent":["//on .size-chart click\r\n$('.size-chart').click(function(e) {\r\n  e.preventDefault();\r\n\r\n  //get the department & category\r\n  //var dept = $('#the-dept-cat').attr('data-department').toLowerCase();\r\n  //var cat = $('#the-dept-cat').attr('data-category').toLowerCase();\r\n\r\n  //prod\r\n  var dept = $('#the-mpd').attr('data-department').toLowerCase();\r\n  var cat = $('#the-mpd').attr('data-category').toLowerCase();\r\n\r\n  //if statements\r\n  if (dept == 'kid girl' || dept == '') {\r\n    dept = 'girl';\r\n  }\r\n\r\n  if (dept == 'little girl') {\r\n    dept = 'baby girl';\r\n  }\r\n\r\n  if (dept == 'little boy') {\r\n    dept = 'baby boy';\r\n  }\r\n\r\n  if (dept.indexOf('newborn') !== -1 || dept.indexOf('layette') !== -1 || dept.indexOf('unisex') !== -1) {\r\n    dept = 'newborn';\r\n    cat = 'all categories';\r\n  }\r\n\r\n  var setCats = function() {\r\n    // console.log('function setCats: ', dept,cat);\r\n\r\n    if (cat == 'hoodies' || cat == 'tops') {\r\n      if (dept == 'girl' || dept == 'baby girl') {\r\n        cat = 'tops';\r\n      }\r\n      if (dept == 'boy' || dept == 'baby boy') {\r\n        cat = 'tees + shirts';\r\n      }\r\n    } else if (cat == 'dresses') {\r\n      cat = 'dresses';\r\n    } else if (cat == 'leggings' || cat == 'pants' || cat == 'skirts' || cat == 'bottoms') {\r\n      cat = 'bottoms';\r\n    } else if (cat == 'swimwear') {\r\n      cat = 'swim';\r\n    } else if (cat == 'outerwear' || cat == 'sweaters') {\r\n      cat = 'sweater + outerwear';\r\n    } else if (cat == 'sleepwear') {\r\n      cat = 'pajamas';\r\n    } else if (cat == 'accessories' || cat == 'shoes') {\r\n      cat = 'shoes + accessories';\r\n    } else {\r\n      if (dept == 'girl') {\r\n        // console.log('its girl defaults');\r\n        cat = 'dresses'\r\n      } else if (dept == 'boy') {\r\n        // console.log('its boy defaults');\r\n        cat = 'tees + shirts';\r\n      } else if (dept == 'baby girl' || dept == 'baby boy') {\r\n        // console.log('its baby girl & baby boy defaults');\r\n        cat = 'rompers';\r\n      }\r\n    }\r\n\r\n    // console.log('results ',cat);\r\n  };\r\n\r\n  //set defautls\r\n  setCats();\r\n  // console.log('after setCats: ',cat);\r\n\r\n  // for dev\r\n  // var dept = 'girl';\r\n  // var cat = 'dresses';\r\n\r\n  //the size chart url\r\n  var url = '/cms/size-chart/size-chart-tea-collection/1.html';\r\n\r\n  //append the parameters at the end of the url\r\n  var params = encodeURI('selectedDept=' + dept + '&selectedCat=' + cat);\r\n  var thisUrl = window.location.href;\r\n  //check if have parameters already\r\n  if (thisUrl.indexOf('?') !== -1) {\r\n    window.location.href = thisUrl + '&' + params;\r\n  } else {\r\n    window.location.href = thisUrl + '?' + params;\r\n  }\r\n\r\n\r\n  //make the get call\r\n  $.get(url, function(data) {\r\n\r\n    //find the size chart\r\n    var sizeChart = $(data).find('#size-chart-section').html();\r\n    //console.log(sizeChart);\r\n\r\n    //desktop\r\n    if ($(window).width() > 737) {\r\n      //make the overlay element\r\n      var overlay = '<div class=\"overlay\" style=\"width:100%; height:100%; background:#000; opacity:.5; position:fixed; z-index:99999;\"></div>';\r\n\r\n      //make the content element\r\n      var overlayContent = $('<div class=\"overlay-content\" style=\"background: #fff; position: fixed; top: 5%; left: 29%; width: 700px; height: 87%; overflow: auto; z-index: 999999; padding-bottom: 20px;\"></div>');\r\n\r\n      //prepend overlay element to body\r\n      $('body').prepend(overlay);\r\n\r\n      //prepend overlay content element to body\r\n      $('body').prepend(overlayContent);\r\n\r\n      //append sizeChart to overlayContent\r\n      $('.overlay-content').append(sizeChart);\r\n    }\r\n\r\n    //mobile\r\n    else if ($(window).width() < 737) {\r\n\r\n      //make the content element\r\n      var overlayContent = $('<div class=\"overlay-content\" style=\"background: #fff; position: fixed; top: 0; left: 0; width: 100%; height: 100%; overflow: auto; z-index: 999999; padding-bottom: 20px;\"></div>');\r\n\r\n      //prepend overlay content element to body\r\n      $('body').prepend(overlayContent);\r\n\r\n      //append sizeChart to overlayContent\r\n      $('.overlay-content').append(sizeChart);\r\n    }\r\n\r\n    //hide the h1 in overlayContent\r\n    // $('.size-chart-container h1').text('');\r\n\r\n    //add h1 background image of the x\r\n    $('.size-chart-container h1').css({\r\n      background: \"url('https://www.teacollection.com/mas_assets/theme/tea_collection/images/static/size-chart/171121/close.png') no-repeat 24px center\",\r\n      padding: \"17px 0\"\r\n    });\r\n\r\n    //add css for hover h1 and overlay\r\n    $('.size-chart-container h1, .overlay').hover(function() {\r\n      $(this).css('cursor', 'pointer');\r\n    }, function() {\r\n      $(this).css('cursor', 'none');\r\n    });\r\n\r\n    //close the lightbox\r\n    $('.overlay, .size-chart-container h1').click(function() {\r\n      //remove the url parameters\r\n      var theUrl = window.location.href;\r\n      var newUrl;\r\n      if (theUrl.indexOf('?' + params) !== -1) {\r\n        newUrl = theUrl.replace('?' + params, '');\r\n      } else {\r\n        newUrl = theUrl.replace('&' + params, '');\r\n      }\r\n      window.location.href = newUrl;\r\n\r\n      //remove the elements\r\n      $('.overlay, .overlay-content').remove();\r\n    });\r\n  });\r\n\r\n\r\n});"],"file":"pdp-function.js"}