{"version":3,"sources":["../scripts.js"],"names":["$","document","ready","url","window","location","href","email","find","val","button","emailIsValid","test","ac","promo","indexOf","paramArr","split","each","i","str1","str2","message","hide","append","show","click","e","preventDefault","console","log","valid","Sailthru","integration"],"mappings":";;AAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AAC3B,MAAMC,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA5B;AACA,MAAIC,KAAK,GAAGP,CAAC,CAAC,aAAD,CAAD,CAAiBQ,IAAjB,CAAsB,OAAtB,EAA+BC,GAA/B,EAAZ;AACA,MAAMC,MAAM,GAAGV,CAAC,CAAC,aAAD,CAAD,CAAiBQ,IAAjB,CAAsB,QAAtB,CAAf;;AAEA,MAAMG,YAAY,GAAG,SAAfA,YAAe,CAACJ,KAAD,EAAW;AAC9B,WAAO,6BAA6BK,IAA7B,CAAkCL,KAAlC,CAAP;AACD,GAFD;;AAIA,MAAIM,EAAJ;AACA,MAAIC,KAAJ;;AACA,MAAIX,GAAG,CAACY,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAA1B,EAA6B;AAC3B,QAAIC,QAAQ,GAAGb,GAAG,CAACc,KAAJ,CAAU,GAAV,EAAe,CAAf,EAAkBA,KAAlB,CAAwB,GAAxB,CAAf;AACAjB,IAAAA,CAAC,CAACkB,IAAF,CAAOF,QAAP,EAAiB,UAASG,CAAT,EAAYV,GAAZ,EAAiB;AAChC,UAAIA,GAAG,CAACM,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAA1B,EAA6B;AAC3B,YAAIK,IAAI,GAAGX,GAAG,CAACQ,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAX;AACAJ,QAAAA,EAAE,GAAGO,IAAL;AACD,OAHD,MAGO,IAAIX,GAAG,CAACM,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAA1B,EAA6B;AAClC,YAAIM,IAAI,GAAGZ,GAAG,CAACQ,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAX;AACAH,QAAAA,KAAK,GAAGO,IAAR;AACD;AACF,KARD;AAUA,QAAMC,OAAO,8DAAuDR,KAAvD,iCAAb;AACAd,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BuB,IAA1B;AACAvB,IAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCwB,MAAhC,CAAuCF,OAAvC;AACAtB,IAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCyB,IAAhC;AACD,GAhBD,MAgBO;AACLZ,IAAAA,EAAE,GAAG,4BAAL;AACD;;AAEDb,EAAAA,CAAC,CAACU,MAAD,CAAD,CAAUgB,KAAV,CAAgB,UAASC,CAAT,EAAY;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYvB,KAAZ,EAAmBM,EAAnB,EAAuBC,KAAvB;AACA,QAAIiB,KAAK,GAAGpB,YAAY,CAACJ,KAAD,CAAxB;AACAsB,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAWC,KAAvB;;AACA,QAAIA,KAAJ,EAAW;AACTC,MAAAA,QAAQ,CAACC,WAAT,CAAqB,YAArB,EAAmC;AACjC,cAAM1B,KAD2B;AAEjC,iBAASA,KAFwB;AAGjC,iBAAS;AACP;AACA,uBAAa;AAFN,SAHwB;AAOjC,gBAAQ;AACN,gCAAsBM;AADhB,SAPyB;AAUjC,kBAAUA,EAVuB;AAWjC,qBAAa,qBAAW;AACtBgB,UAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ;AACD,SAbgC;AAcjC,mBAAW,mBAAW;AACpBD,UAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ;AACD;AAhBgC,OAAnC;AAkBD;AACF,GAzBD;AA4BD,CA3DD","sourcesContent":["$(document).ready(function() {\r\n  const url = window.location.href;\r\n  var email = $('.email-wrap').find('input').val();\r\n  const button = $('.email-wrap').find('button');\r\n\r\n  const emailIsValid = (email) => {\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n  }\r\n\r\n  var ac;\r\n  var promo;\r\n  if (url.indexOf('?') !== -1) {\r\n    let paramArr = url.split('?')[1].split('&');\r\n    $.each(paramArr, function(i, val) {\r\n      if (val.indexOf('c') !== -1) {\r\n        var str1 = val.split('=')[1];\r\n        ac = str1;\r\n      } else if (val.indexOf('p') !== -1) {\r\n        var str2 = val.split('=')[1];\r\n        promo = str2;\r\n      }\r\n    });\r\n\r\n    const message = `<p>Sign up for exclusive offers, new styles, and ${promo}% off your first order!*</p>`;\r\n    $('.email-wrap .default').hide();\r\n    $('.email-wrap .promo-message').append(message);\r\n    $('.email-wrap .new-customers').show();\r\n  } else {\r\n    ac = \"email sign up landing page\";\r\n  }\r\n\r\n  $(button).click(function(e) {\r\n    e.preventDefault();\r\n    console.log(email, ac, promo);\r\n    var valid = emailIsValid(email);\r\n    console.log('valid:' + valid);\r\n    if (valid) {\r\n      Sailthru.integration(\"userSignUp\", {\r\n        \"id\": email,\r\n        \"email\": email,\r\n        \"lists\": {\r\n          // \"MASTER_CONTACTS_LIST\": 1\r\n          \"test list\": 1\r\n        },\r\n        \"vars\": {\r\n          \"ACQUISITION_SOURCE\": ac,\r\n        },\r\n        \"source\": ac,\r\n        \"onSuccess\": function() {\r\n          console.log('sailthru email sign up page success');\r\n        },\r\n        \"onError\": function() {\r\n          console.log('sailthru email sign up page error');\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n\r\n});"],"file":"scripts.js"}