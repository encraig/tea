{"version":3,"sources":["../scripts.js"],"names":["$","document","ready","emailIsValid","email","test","click","e","console","log","target","previousElementSibling","value","valid","hide","show","Sailthru","integration","focus","divinity","box","close","remove"],"mappings":";;AAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AAE3B,WAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,WAAO,6BAA6BC,IAA7B,CAAkCD,KAAlC,CAAP;AACD;;AAEDJ,EAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BM,KAA1B,CAAgC,UAASC,CAAT,EAAY;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAd;AACA,QAAIN,KAAK,GAAGG,CAAC,CAACG,MAAF,CAASC,sBAAT,CAAgCC,KAA5C;AACA,QAAIC,KAAK,GAAGV,YAAY,CAACC,KAAD,CAAxB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAWI,KAAvB;;AACA,QAAIA,KAAJ,EAAW;AACTb,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBc,IAAnB;AACAd,MAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBe,IAAtB;AACAC,MAAAA,QAAQ,CAACC,WAAT,CAAqB,YAArB,EAAmC;AACjC,cAAMb,KAD2B;AAEjC,iBAASA,KAFwB;AAGjC,iBAAS;AACP,kCAAwB,CADjB,CAEP;;AAFO,SAHwB;AAOjC,gBAAQ;AACN,gCAAsB;AADhB,SAPyB;AAUjC,kBAAU,gBAVuB;AAWjC,qBAAa,qBAAW;AACtBJ,UAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBc,IAAvB;AACAd,UAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBe,IAArB;AACD;AAdgC,OAAnC;AAiBD,KApBD,MAoBO;AACLf,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBe,IAApB;AACAf,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBkB,KAAnB;AACD;AACF,GA7BD,EAN2B,CAsC3B;;AACAlB,EAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCM,KAAhC,CAAsC,YAAW;AAC/C;AACAa,IAAAA,QAAQ,CAACC,GAAT,CAAaC,KAAb;AACArB,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BsB,MAA1B;AACD,GAJD;AAMD,CA7CD","sourcesContent":["$(document).ready(function() {\r\n\r\n  function emailIsValid(email) {\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n  }\r\n\r\n  $('.signup .form button').click(function(e) {\r\n    console.log(e.target);\r\n    var email = e.target.previousElementSibling.value;\r\n    var valid = emailIsValid(email);\r\n    console.log('valid:' + valid);\r\n    if (valid) {\r\n      $('.signup .form').hide();\r\n      $('.signup .sending').show();\r\n      Sailthru.integration(\"userSignUp\", {\r\n        \"id\": email,\r\n        \"email\": email,\r\n        \"lists\": {\r\n          \"MASTER_CONTACTS_LIST\": 1\r\n          // \"test list\": 1\r\n        },\r\n        \"vars\": {\r\n          \"ACQUISITION_SOURCE\": \"Desktop pop-up\",\r\n        },\r\n        \"source\": \"Desktop pop-up\",\r\n        \"onSuccess\": function() {\r\n          $('.signup .the-form').hide();\r\n          $('.signup .thanks').show();\r\n        }\r\n      });\r\n\r\n    } else {\r\n      $('.signup .error').show();\r\n      $('.signup input').focus();\r\n    }\r\n  });\r\n\r\n\r\n  //close the signup form\r\n  $('.the-overlay, #close-icon2').click(function() {\r\n    // console.log('close desktop');\r\n    divinity.box.close();\r\n    $('#tea-promo-subscribe').remove();\r\n  });\r\n\r\n});"],"file":"scripts.js"}