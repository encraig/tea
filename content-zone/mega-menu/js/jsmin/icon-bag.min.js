"use strict";$(document).ready(function(){var a=function b(){$(".the-shopping-cart-items").find("li").remove(),$(".the-shopping-cart-items").find(".subtotal").remove(),$(".the-shopping-cart-items .form").prepend('<span class="updating-cart-message" style="display: block; text-align: center; padding: 10px 0; font-size: 15px;">Updating shopping cart...</span>'),setTimeout(function(){$.get("https://www.teacollection.com/?page=cart",function(a){var c=$(a).find("section.item"),d=0;if($.each(c,function(a,b){var c=$(b).find("dt")[2].innerText;c=c.replace("Quantity: ",""),c=Number(c),d+=c}),console.log(d),d>0){console.log("you got something in your bag"),$(".view-cart > img").attr("src","https://www.teacollection.com/mas_assets/theme/tea_collection/images/header/nav/bag-icon-filled.png"),$(".view-cart > span").text(d),d<10?$(".view-cart > span").css("left","5px"):d>9&&d<100?$(".view-cart > span").removeAttr("style"):d>99&&$(".view-cart > span").css("left","1px"),$.each(c,function(a,b){var c=$(b).find("a")[0].href,d=$(b).find("a")[0].childNodes[0].src,e=$(b).find("h1").text(),f=$(b).find(".regular-price").text(),g=$(b).find("dd").text(),h=$(b).find("dt")[2].innerText;console.log(h),h=h.replace(" Quantity: ","");var i=$(b).find(".ajax-cart-edit").attr("href"),j=i;i=i.split("/")[0],i=i.replace("#","");var k=$(b).find("dt")[1].innerText;k=k.replace("Size: ","");var l=$(b).find(".ajax-cart-remove")[0].href,m='<li><div class="left"><a href="'+c+'"><img src="'+d+'" alt="'+e+'"></a></div><div class="right"><span class="bag-title"><a href="'+c+'">'+e+'</a></span><span class="bag-price">'+f+'</span><span class="bag-color">color: '+g+'</span><span class="bag-size">size: '+k+'</span><span class="bag-qty">quantity: '+h+'</span><span class="bag-links"><a href="'+j+'" class="bag-edit ajax-cart-edit">edit</a> | <a href="'+l+'" class="bag-remove">remove</a></div></span></li>';$(".the-shopping-cart-items .form ul").append(m)});var e=$(a).find("footer").find("h3")[0].innerText,f=$(a).find("footer").find("h3")[1].innerText,g='<div class="subtotal"><span class="sub-title">shopping bag</span><span>'+e+"</span><span>"+f+'</span><a href="/?page=checkout" class="sub-checkout">checkout</a><a href="/?page=cart" class="sub-bag-details">view bag details</a></div>';$(".the-shopping-cart-items .form").append(g),$(".the-qty").focusout(function(){$(this).closest(".bag-qty").prev(".bag-error-number").remove(),console.log("changed input.the-qty");var a=Number($(this).val());console.log(a);var c=$(this).attr("name");if(isNaN(a)||""==a){var d=$(this).closest(".bag-qty");$(d).before('<span class="bag-error-number" style="color:red;">Please enter a valid number</span>'),$(this).focus()}else $(this).closest(".bag-error-number").remove(),console.log(c),$.post("https://www.teacollection.com/?page=cart&action=update&qty["+c+"]="+a,function(a){console.log("success on updating the cart from monetate"),b()})}),$(".bag-remove").click(function(a){a.preventDefault();var c=$(this).attr("href");console.log("bag removed clicked ",c),$.post(c,function(a){console.log("removed successful from monetate"),b()})}),$(".bag-edit").click(function(){setTimeout(function(){$("#product-detail-page.quick-view .add-to-bag").click(function(a){b()})},1e3)})}else{console.log("nothing in bag"),$(".view-cart > img").attr("src","https://www.teacollection.com/mas_assets/theme/tea_collection/images/header/nav/bag-icon-empty.png");var h=$("#top-bar").find("ul.clearfix > li")[1].id,i=$("#free-shipping-container p:last-of-type").text().split(" ");i=i[i.length-1];var j;"welcome-member"==h?(console.log("signed in from shopping bag"),j='<div class="subtotal"><span class="sub-title">shopping bag</span><span>Your shopping bag is empty</span><span>Free shipping on orders '+i+'+</span><a href="/" class="sub-checkout">start shopping</a><a href="/?page=wishlists" class="sub-bag-details">view wishlists</a></div>'):(console.log("signed out from shoppping bag"),j='<div class="subtotal"><span class="sub-title">shopping bag</span><span>Your shopping bag is empty</span><span>Free shipping on orders '+i+'+</span><a href="/" class="sub-checkout">start shopping</a></div>'),$(".the-shopping-cart-items .form").append(j)}$(".updating-cart-message").remove()})},500)};$("#new-icons ul li.the-bag-icon").hover(function(a){$(this).find(".the-shopping-cart-items").show()},function(){$(this).find(".the-shopping-cart-items").hide()}),a(),$(".pdp-item-details-attributes button.add-to-bag").click(function(){console.log("added to bag from monetate"),$(".view-cart").trigger("mouseenter"),a()}),$(".gift-shop-container .gift-it, .girls-clothing-cat .gift-it").on("click",function(b){setTimeout(function(){$(".drop .cta").click(function(b){a()})},1e3)}),$(".item").on("mouseenter",function(){$(".quickview-overlay.active h2 a").on("click",function(b){setTimeout(function(){$(".add-to-bag").click(function(b){a()})},1e3)})})});